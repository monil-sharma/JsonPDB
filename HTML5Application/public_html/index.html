<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div class="container">
            <h2>Vertical (basic) Form</h2>
            <form id="empForm" method="post">
                <div class="form-group" >
                    <span><label for="empId">Employee ID:</label><label id="empIdMsg"> </label></span>
                    <input type="text" class="form-control" name="empId" id="empId" placeholder="Enter Employee Id" required>
                </div>
                <div class="form-group">
                    <label for="empName">Employee Name:</label>
                    <input type="text" name="empName" class="form-control" id="empName" placeholder="Enter Employee Name" required>
                </div>
                <div class="form-group">
                    <label for="empEmail">Email:</label>
                    <input type="email" name="empEmail" class="form-control" id="empEmail" placeholder="Enter Employee Email" required>
                </div>
                <button type="submit" class="btn btn-default" onclick="saveEmployee()">Submit</button>
            </form>
        </div>
        <<script>
            function validateAndGetFormData()
            {
            var empIdVar = $("#empId").val();
            if (empIdVar === "")
            {
            alert("It can't be empty");
            $("#empId").focus();
            return "";
            }
            var empNameVar = $("#empName").val();
            if (empNameVar === "")
            {
            alert("Name can't be empty");
            $("#empName").focus();
            return "";
            }
            var empEmailVar = $("#empEmail").val();
            if (empEmailVar === "")
            {
            alert("Email is empty");
            $("#empEmail").focus();
            return "";
            }
            var jsonStrObj = {
            empId: empIdVar,
                    empName: empNameVar,
                    empEmail: empEMailVar,
            };
            return JSON.stringify(jsonStrObj);
        }
            function resetForm()
                    {
                    $("#empId").val("");
                    $("#empName").val("");
                    $("#empEmail").val("");
                    $("#empId").focus("");
                    }
            function saveEmployee() {
            var jsonStr = validateAndGetFormData();
            id(jssonStr === "")
            {
            return;
            }
            var putReqStr = createPUTRequesr("90936259|-31948850848795871|90945288", jsonStr, "Sample", "Emp-Rel");
            alert(putReqStr);
            jQuery.ajaxSetup({async: false});
            var resultObj = executeCommandAtGivenBaseUrl((putReqStr, "http://api.login2xplore.com:5577", "/api/iml"));
            jQuery.ajaxSetup({async: true});
            alert(JSON.stringify(resultObj));
            restForm();
            }
        </script>
        <script src="http://login2explore.com/jpdb/resources/js/0.03/jpdb-commons.js"></script>
    </body>
</html>
